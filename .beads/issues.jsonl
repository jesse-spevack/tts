{"id":"tts-00v","title":"Fix EpisodesMailboxTest flaky failures in full suite","description":"EpisodesMailboxTest passes alone (11/11) but 5 tests fail in full suite, even with PARALLEL_WORKERS=1. Positive-path tests fail (episode creation, notifications), negative-path tests pass (invalid token, routing errors). Root cause: test pollution from an earlier test file. Need to bisect ~600 tests to find the polluter.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T11:10:50.557434-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T13:21:27.563805-07:00","closed_at":"2026-02-08T13:21:27.563805-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-00v","depends_on_id":"tts-pz8","type":"blocks","created_at":"2026-02-08T11:13:30.753044-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":6,"issue_id":"tts-00v","author":"Jesse Spevack","text":"Investigation so far: 5 positive-path tests fail (episode creation, notifications). Negative-path tests pass. Confirmed not parallelism (fails with PARALLEL_WORKERS=1). Confirmed not fixture mutation (fresh User.create! still fails). Leading theory: Mocktail.replace leak from one of ~30 test files that use it. Next step: binary search through ~600 tests (seed 21195) to find polluter.","created_at":"2026-02-08T18:23:16Z"},{"id":8,"issue_id":"tts-00v","author":"Jesse Spevack","text":"Root cause found and fixed. The issue was NOT test pollution or Mocktail leaks.\n\n**Root cause:** The domain consolidation work changed config.x.email_ingest_domain from hardcoded 'tts.verynormal.dev' to ENV.fetch('APP_HOST', 'localhost:3000'). The fallback 'localhost:3000' includes a port, which is invalid for an email domain.\n\n**Why full suite only:** When running 'rails test' (full suite), the Rakefile loads config/application.rb BEFORE test_helper.rb sets ENV['APP_HOST']. So email_ingest_domain gets the fallback 'localhost:3000'. In isolation, test_helper.rb loads first and sets ENV['APP_HOST']=example.com before the config is evaluated.\n\n**How it breaks:** The Mail gem can't parse 'readtome+token@localhost:3000' correctly — mail.to returns a String instead of Array. String#first returns 'r' (first char), so token extraction gets nothing, user lookup fails, and no jobs/emails are enqueued.\n\n**Fix:** Strip port from APP_HOST in the config: ENV.fetch('APP_HOST', 'localhost').sub(/:\\d+\\z/, '')","created_at":"2026-02-08T20:21:18Z"}]}
{"id":"tts-0na","title":"Scope database-per-worktree isolation for parallel feature development","description":"Problem: Git worktrees share the same Rails development database, causing schema conflicts when multiple features with migrations are developed in parallel.\n\nGoal: Brainstorm and implement a solution so each worktree has its own isolated database automatically.\n\nOptions to evaluate:\n1. Directory-based DB naming in database.yml\n2. Environment variable approach\n3. Git branch-based naming\n4. Docker-based isolation\n\nConsiderations:\n- Should work automatically without manual setup per worktree\n- Should not break existing workflows\n- Should handle SQLite and potentially PostgreSQL\n- Consider test database isolation too\n- Document the chosen approach","status":"in_progress","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T08:29:45.271096-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-28T13:26:36.025945-07:00"}
{"id":"tts-0or","title":"Style email-to-podcast checkbox to match app conventions","description":"The checkbox in the email-to-podcast settings section doesn't match the styling conventions used elsewhere in the app. Update it to be consistent with other checkboxes/toggles in the application.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T22:50:39.771352-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-28T13:28:47.298516-07:00","closed_at":"2026-01-28T13:28:47.298516-07:00","close_reason":"Closed"}
{"id":"tts-0qc","title":"Add comment explaining htmlToText function purpose","description":"extractor.ts:121 - Add comment explaining why custom htmlToText exists instead of using Readability's textContent.\n\nReason: Preserves paragraph breaks with double newlines for TTS - creates natural pauses between paragraphs in speech output.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:36:43.088909-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:21.135848-07:00","closed_at":"2026-01-25T12:53:21.135848-07:00","close_reason":"Closed"}
{"id":"tts-1fr","title":"Limit content script to trusted domains in manifest","description":"manifest.json:23-27 - Content script runs on all URLs which is unnecessary overhead. Limit matches to verynormal.fyi and verynormal.dev domains. Use chrome.scripting.executeScript for article extraction on other pages.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:38.309669-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T15:58:15.614097-07:00","closed_at":"2026-01-25T15:58:15.614097-07:00","close_reason":"Implemented - content script limited to trusted domains with programmatic injection for extraction"}
{"id":"tts-1gy","title":"Add error state handling","description":"Handle all error states with appropriate icon feedback:\n- Network offline: offline icon\n- Backend down (5xx): error icon\n- Rate limit hit (429): slow-down icon\n- Account suspended (401): clear token, prompt reconnect\n- Not an article: error icon\n- Extraction failed: error icon, log to backend\n\nPart of Phase 4: Extension UX","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:58.37607-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:55:08.659091-07:00","closed_at":"2026-01-24T14:55:08.659091-07:00","close_reason":"Implemented error state handling in icons.ts and background.ts - IconState types and setIconState function with badge updates","dependencies":[{"issue_id":"tts-1gy","depends_on_id":"tts-4vx","type":"blocks","created_at":"2026-01-24T13:41:10.609024-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-1kn","title":"Register Chrome Web Store developer account","description":"HUMAN TASK - Cannot be done by Claude\n\n1. Go to Chrome Web Store Developer Dashboard\n2. Pay one-time $5 registration fee\n3. Complete account verification\n\nPart of Phase 5: Polish \u0026 Deploy","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:40:15.782182-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T19:25:15.092515-07:00","closed_at":"2026-01-24T19:25:15.092515-07:00","close_reason":"Developer account registered, email verified, trader status selected"}
{"id":"tts-1ug","title":"Extract GeneratesApiToken service from connect controller","description":"extension/connect_controller.rb:12 - Move ApiToken.generate_for(Current.user) logic into GeneratesApiToken service object following app conventions.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:00.460587-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:01.719039-07:00","closed_at":"2026-01-25T12:53:01.719039-07:00","close_reason":"Closed"}
{"id":"tts-2dw","title":"Inline revoke! logic in RevokesApiToken service","description":"1. Inline update!(revoked_at: Time.current) directly in RevokesApiToken service\n2. Remove revoke! instance method from api_token.rb\n3. Update generates_api_token.rb to not call revoke! (inline the update there too, or use the service)\n4. Update tests","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T13:08:45.05399-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T13:13:01.384196-07:00","closed_at":"2026-01-25T13:13:01.384196-07:00","close_reason":"Closed"}
{"id":"tts-37o","title":"Create GetsApiToken service for active token lookup","description":"1. Create app/services/gets_api_token.rb\n2. Move active_token_for logic from ApiToken model to service\n3. Update settings/extensions_controller.rb to use GetsApiToken.call(user:)\n4. Remove active_token_for from api_token.rb\n5. Update tests","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T13:08:42.592619-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T13:12:56.76651-07:00","closed_at":"2026-01-25T13:12:56.76651-07:00","close_reason":"Closed"}
{"id":"tts-3pw","title":"Add 5-second debounce logic","description":"Prevent accidental double-sends:\n- Track last successful send (URL + timestamp)\n- If same URL within 5 seconds, silently succeed (no API call)\n- Show success icon as normal\n\nPart of Phase 4: Extension UX","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:57.457534-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:55:08.579863-07:00","closed_at":"2026-01-24T14:55:08.579863-07:00","close_reason":"Implemented 5-second debounce in background.ts - lastSendTime tracking with DEBOUNCE_MS check","dependencies":[{"issue_id":"tts-3pw","depends_on_id":"tts-4vx","type":"blocks","created_at":"2026-01-24T13:41:09.20841-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-3w4","title":"Use strong parameters in SettingsController","description":"In app/controllers/settings_controller.rb:25-27, the email_episode_confirmation param is handled manually:\n\n```ruby\nif params.key?(:email_episode_confirmation)\n  update_params[:email_episode_confirmation] = params[:email_episode_confirmation] == \"1\"\nend\n```\n\nWhile functional, using Rails strong parameters would be more conventional and consistent with Rails idioms.\n\n**Recommendation:**\n```ruby\nprivate\n\ndef settings_params\n  params.permit(:voice, :email_episode_confirmation)\nend\n```\n\nThen use `settings_params` in the update action. Note: The boolean conversion from \"1\" to true would need to happen elsewhere (perhaps via an attribute normalizer on the model).","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T22:39:30.494404-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:42:55.530604-07:00","closed_at":"2026-01-25T22:42:55.530604-07:00","close_reason":"Implemented code review suggestions - all 5 items completed"}
{"id":"tts-4dn","title":"Add email confirmation toggle to settings page","description":"Add UI toggle for email_episode_confirmation preference to the user settings page. Currently the column exists and is checked in EpisodesMailbox, but users have no way to change it. Should allow users to opt out of receiving 'Your email is being converted to audio' confirmation emails.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T21:47:06.557963-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:13:49.3945-07:00","closed_at":"2026-01-25T22:13:49.3945-07:00","close_reason":"Implemented in commit 99329a2"}
{"id":"tts-4ed","title":"Use GetsDefaultPodcastForUser instead of || in API episodes controller","description":"api/v1/episodes_controller.rb:7 - Replace defensive || pattern with GetsDefaultPodcastForUser service:\n\nCurrent: podcast = current_user.podcasts.first || CreatesDefaultPodcast.call(user: current_user)\nShould use: GetsDefaultPodcastForUser service","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:39.186542-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.493408-07:00","closed_at":"2026-01-25T12:47:51.493408-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-4jo","title":"Break background.ts into smaller modules","description":"background.ts:222 - File is too long. Split into smaller focused modules (e.g., error handling, icon management, API interactions).","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:37.06654-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T15:51:25.568729-07:00","closed_at":"2026-01-25T15:51:25.568729-07:00","close_reason":"Refactored into messages.ts, errorHandling.ts, contextMenu.ts with tests"}
{"id":"tts-4r1","title":"Strip port from AppConfig::Domain::MAIL_FROM default","notes":"app/models/app_config.rb:7 — MAIL_FROM defaults to noreply@\\#{HOST} where HOST can be localhost:3000. Need to strip port for email context, same as config/application.rb fix.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T14:48:28.507699-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T14:51:07.54206-07:00","closed_at":"2026-02-08T14:51:07.54206-07:00","close_reason":"Closed"}
{"id":"tts-4vx","title":"Wire up icon click → extract → send flow","description":"Implement main flow in background.ts:\n1. User clicks icon\n2. If not connected → open connect flow\n3. Run isArticleLike() pre-check\n4. If not article → show error icon\n5. Extract with Readability.js\n6. If extraction fails → log to backend, show error icon\n7. POST to /api/v1/episodes\n8. Show success/error icon based on response\n\nPart of Phase 4: Extension UX","status":"closed","priority":2,"issue_type":"task","assignee":"Jesse Spevack","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:56.514883-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:43:38.880596-07:00","closed_at":"2026-01-24T14:43:38.880596-07:00","close_reason":"Implemented main flow: icon click triggers extraction via content script, sends to API, shows status icons, logs failures. Dynamic popup control based on connection state.","dependencies":[{"issue_id":"tts-4vx","depends_on_id":"tts-9dw","type":"blocks","created_at":"2026-01-24T13:41:07.980834-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-4vx","depends_on_id":"tts-odj","type":"blocks","created_at":"2026-01-24T13:41:08.054931-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-4vx","depends_on_id":"tts-9a8","type":"blocks","created_at":"2026-01-24T13:41:08.128292-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-4vx","depends_on_id":"tts-ced","type":"blocks","created_at":"2026-01-24T13:41:08.198178-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-4vx","depends_on_id":"tts-ts7","type":"blocks","created_at":"2026-01-24T13:41:08.270108-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-4z1","title":"Create extension token generation endpoint","description":"Create endpoint for Connect flow:\n\nGET /api/v1/auth/extension_token\n- Requires existing session cookie (user logged in)\n- Generates new ApiToken for user\n- Returns token to extension (or redirects with token)\n\nHandle both cases:\n- User already logged in: immediate token generation\n- User not logged in: redirect to login, then back to generate token\n\nPart of Phase 1: Backend Foundation","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:10.032899-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:18:08.093843-07:00","closed_at":"2026-01-24T14:18:08.093843-07:00","close_reason":"Created POST /api/v1/extension_token endpoint with session auth, 5 passing tests","dependencies":[{"issue_id":"tts-4z1","depends_on_id":"tts-ekw","type":"blocks","created_at":"2026-01-24T13:40:42.309672-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-56s","title":"Fix duplicate ExtractedArticle type definition","description":"ExtractedArticle interface defined in both extractor.ts:8-14 and background.ts:17-23. Fix: Import from extractor.ts in background.ts instead of duplicating.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:25.069185-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:49:06.099067-07:00","closed_at":"2026-01-25T12:49:06.099067-07:00","close_reason":"Quick fixes completed"}
{"id":"tts-5cs","title":"Remove generate_for from ApiToken, use GeneratesApiToken service","description":"1. Update extension_tokens_controller.rb to use GeneratesApiToken.call(user:) instead of ApiToken.generate_for\n2. Remove generate_for method from api_token.rb\n3. Remove TOKEN_PREFIX from api_token.rb (it's in the service now)\n4. Update any tests that call generate_for directly","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T13:08:39.621479-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T13:13:25.117198-07:00","closed_at":"2026-01-25T13:13:25.117198-07:00","close_reason":"Closed"}
{"id":"tts-5hi","title":"Rethink debug command/workflow","description":"Based on brainstorm session: the debug command collects dust but debugging is needed sometimes. Consider:\n\n- When does debug come up? (error messages, test failures, unexpected behavior)\n- Should it be a command or just described workflow?\n- How does it fit with the brainstorm -\u003e plan -\u003e implement -\u003e review flow?\n- Does it need beads integration?\n\nCaptured from workflow simplification session.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-27T16:26:26.750694-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-31T22:01:22.028088-07:00","closed_at":"2026-01-31T22:01:22.028088-07:00","close_reason":"Used today to debug deploy failure - systematic approach worked well. Keeping the command as-is."}
{"id":"tts-5q5","title":"Chrome Extension for TTS Podcast","description":"Build a Chrome extension that lets users send any webpage to their TTS podcast feed with one click, using client-side Readability.js extraction. See docs/plans/chrome-extension-plan.md for full details.","status":"closed","priority":1,"issue_type":"feature","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:38:44.986494-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:55:15.763034-07:00","closed_at":"2026-01-24T14:55:15.763034-07:00","close_reason":"Implemented Phase 1-3: Backend (ApiToken model, API controllers, rate limiting) and Extension Core (TypeScript build, Readability.js extraction, auth, popup). Remaining Phase 4-5 tasks tracked separately."}
{"id":"tts-673","title":"Add tests for ExtensionLogsController","description":"No test file exists for Api::V1::ExtensionLogsController. Create test/controllers/api/v1/extension_logs_controller_test.rb with tests for: 401 without token, 201 with valid token, log sanitization.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:21.057699-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:01.701967-07:00","closed_at":"2026-01-25T12:53:01.701967-07:00","close_reason":"Closed"}
{"id":"tts-67b","title":"Make Episode source validation methods private","description":"episode.rb:14 - Make source_url_required? and source_text_required? methods private.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:03.321711-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.477309-07:00","closed_at":"2026-01-25T12:47:51.477309-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-6j5","title":"Create /login page for extension auth flow","description":"Create a dedicated login page at /login that:\n- Reuses the 'Start listening free' modal UI (same partials)\n- Header: 'Login' (no subtitle)\n- Change 'By signing up' to 'By signing in'\n- Full page, not modal\n\n/extension/connect should redirect here if user not logged in.\n\nThis unblocks testing the extension locally.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T08:28:42.364153-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T08:31:51.664873-07:00","closed_at":"2026-01-25T08:31:51.664873-07:00","close_reason":"Created /login page with LoginsController#new, redirects from /extension/connect if not authenticated"}
{"id":"tts-6kw","title":"Consolidate token hashing into HashesToken service","description":"## Problem\nToken hashing logic (HMAC-SHA256 with secret_key_base) is duplicated in three places:\n- GeneratesApiToken:41-43\n- FindsApiToken:20-22\n- ApiToken.hash_token:23-25 (private_class_method)\n\n## Solution\nCreate a dedicated HashesToken service and use it everywhere.\n\n## Implementation\n1. Create HashesToken service\n   - Input: plain_token\n   - Output: HMAC-SHA256 hexdigest using Rails.application.secret_key_base\n   - Simple, single-purpose service\n\n2. Update GeneratesApiToken to use HashesToken.call(plain_token)\n   - Remove private hash_token method\n\n3. Update FindsApiToken to use HashesToken.call(plain_token)\n   - Remove private hash_token method\n\n4. Remove ApiToken.hash_token class method (or keep as delegate if preferred)\n\n## Acceptance Criteria\n- [ ] HashesToken service exists\n- [ ] GeneratesApiToken uses HashesToken\n- [ ] FindsApiToken uses HashesToken\n- [ ] No duplicate hash_token implementations remain\n- [ ] Existing tests pass","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-26T21:40:59.507711-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-26T21:51:00.680736-07:00","closed_at":"2026-01-26T21:51:00.680736-07:00","close_reason":"Implemented and all tests passing"}
{"id":"tts-6su","title":"Extract duplicate token generation logic","description":"Both EnablesEmailEpisodes and RegeneratesEmailIngestToken have identical generate_token methods:\n\n- app/services/enables_email_episodes.rb:18\n- app/services/regenerates_email_ingest_token.rb:15\n\n```ruby\ndef generate_token\n  SecureRandom.urlsafe_base64(16).downcase\nend\n```\n\n**Recommendation:** Extract to a shared concern or utility module if this pattern appears elsewhere, ensuring consistent token generation across the codebase.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T22:39:26.956941-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:42:55.528209-07:00","closed_at":"2026-01-25T22:42:55.528209-07:00","close_reason":"Implemented code review suggestions - all 5 items completed"}
{"id":"tts-76v","title":"Set up TypeScript build pipeline for extension","description":"Set up browser_extension/ directory with:\n- package.json with TypeScript, webpack/esbuild\n- tsconfig.json configured for Chrome extension\n- Build script to compile TS → JS\n- Watch mode for development\n\nPart of Phase 3: Extension Core","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:34.135528-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T13:51:39.470917-07:00","closed_at":"2026-01-24T13:51:39.470917-07:00","close_reason":"Implementation complete, tests passing"}
{"id":"tts-7qc","title":"Tighten ApplicationMailbox routing regex","description":"In app/mailboxes/application_mailbox.rb:2, the routing regex is:\n\n```ruby\nrouting /^readtome\\+.+@/i =\u003e :episodes\n```\n\nThis requires at least one character after `+`, but would still match `readtome+@` (plus with empty token before @) due to how the regex works with the @ anchor.\n\n**Recommendation:** Tighten to explicitly require non-@ characters:\n```ruby\nrouting /^readtome\\+[^@]+@/i =\u003e :episodes\n```\n\nThis ensures the token portion contains at least one valid character.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T22:39:28.982657-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:42:55.529819-07:00","closed_at":"2026-01-25T22:42:55.529819-07:00","close_reason":"Implemented code review suggestions - all 5 items completed"}
{"id":"tts-7rh","title":"Rename extension token storage key to very_normal_tts_api_token","description":"auth.ts:6 - Change TOKEN_KEY from current value to 'very_normal_tts_api_token' for clarity.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:05.638224-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:21.104198-07:00","closed_at":"2026-01-25T12:53:21.104198-07:00","close_reason":"Closed"}
{"id":"tts-82p","title":"Extract RevokesApiToken service from extensions controller","description":"settings/extensions_controller.rb:13 - Move token revocation logic into RevokesApiToken service object following app conventions.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:01.78052-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:01.734858-07:00","closed_at":"2026-01-25T12:53:01.734858-07:00","close_reason":"Closed"}
{"id":"tts-84w","title":"Create manifest.json for Manifest V3","description":"Create manifest.json with:\n- manifest_version: 3\n- permissions: activeTab, storage\n- host_permissions for TTS domain\n- action with popup and icons\n- background service worker\n- content scripts for all URLs\n\nPart of Phase 3: Extension Core","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:35.237793-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:03:53.395982-07:00","closed_at":"2026-01-24T14:03:53.395982-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-84w","depends_on_id":"tts-76v","type":"blocks","created_at":"2026-01-24T13:40:53.880092-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8ix","title":"Create FindsApiToken service for token lookup","description":"1. Create app/services/finds_api_token.rb\n2. Move find_by_token logic from ApiToken model to service\n3. Update app/controllers/api/v1/base_controller.rb to use FindsApiToken.call(token:)\n4. Remove find_by_token from api_token.rb\n5. Update tests","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T13:08:41.066354-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T13:14:25.628377-07:00","closed_at":"2026-01-25T13:14:25.628377-07:00","close_reason":"Closed"}
{"id":"tts-8og","title":"Feature tile illustrations","description":"Replace all placehold.co images with pure HTML/CSS ERB partials. 6 feature tiles on home page + about page fixes. Mist color system, dark/light native, no JS, no external images.","design":"Each feature gets its own ERB partial. Illustrations are mock UIs that evoke the feature. Alternate light/dark mode between tiles. Use Mist color system throughout.","status":"open","priority":0,"issue_type":"epic","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:19:48.238169-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:19:48.238169-07:00"}
{"id":"tts-8og.1","title":"Build URL feature illustration","description":"Create pages/_feature_url.html.erb — Mock input field with URL text and Convert button. Light mode UI mock. Must work inside screenshot wrapper with blue wallpaper.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:19:59.791968-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:22.859239-07:00","closed_at":"2026-02-10T12:23:22.859246-07:00","dependencies":[{"issue_id":"tts-8og.1","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:19:59.793627-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.10","title":"Improve about page content and design","description":"Walk through about page with Jesse to improve copy, layout, and content. Page is at /about (about_02.html.erb). Current state: navbar wired, photos replaced, logos as text labels, footer wired, CTA wired to signup modal.","status":"open","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T16:24:33.059389-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T16:24:33.059389-07:00","dependencies":[{"issue_id":"tts-8og.10","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T16:24:33.060718-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.2","title":"Build paste text feature illustration","description":"Create pages/_feature_paste.html.erb — Mock textarea with faded article text, title field above. Dark mode UI mock. Must work inside screenshot wrapper with purple wallpaper.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:19:59.97088-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:22.969068-07:00","closed_at":"2026-02-10T12:23:22.969069-07:00","dependencies":[{"issue_id":"tts-8og.2","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:19:59.972094-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.3","title":"Build upload file feature illustration","description":"Create pages/_feature_upload.html.erb — Drop zone with document icon, article.md filename, upload button. Light mode UI mock. Must work inside screenshot wrapper with brown wallpaper.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:20:00.106253-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:23.081499-07:00","closed_at":"2026-02-10T12:23:23.0815-07:00","dependencies":[{"issue_id":"tts-8og.3","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:20:00.107206-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.4","title":"Build email feature illustration","description":"Create pages/_feature_email.html.erb — Mock email card with From/To/Subject fields showing forwarded article. Dark mode UI mock. Must work inside screenshot wrapper with green wallpaper.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:20:00.236964-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:23.192433-07:00","closed_at":"2026-02-10T12:23:23.192435-07:00","dependencies":[{"issue_id":"tts-8og.4","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:20:00.238163-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.5","title":"Build browser extension feature illustration","description":"Create pages/_feature_extension.html.erb — Mock browser address bar with small extension popup overlay. Light mode UI mock. Must work inside screenshot wrapper with orange wallpaper.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:20:00.366213-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:23.299142-07:00","closed_at":"2026-02-10T12:23:23.299143-07:00","dependencies":[{"issue_id":"tts-8og.5","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:20:00.36722-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.6","title":"Build API feature illustration","description":"Create pages/_feature_api.html.erb — Mock terminal/code block with curl command and JSON response. Dark mode UI mock. Must work inside screenshot wrapper with brown wallpaper.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:20:00.493659-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:23.405714-07:00","closed_at":"2026-02-10T12:23:23.405716-07:00","dependencies":[{"issue_id":"tts-8og.6","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:20:00.494643-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.7","title":"Wire illustrations into home page","description":"Replace all 6 placehold.co img tags in home.html.erb feature section with render calls to the new partials. Verify grid layout still works on mobile and desktop.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:20:00.624275-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:23.512757-07:00","closed_at":"2026-02-10T12:23:23.512758-07:00","dependencies":[{"issue_id":"tts-8og.7","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:20:00.62532-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.7","depends_on_id":"tts-8og.1","type":"blocks","created_at":"2026-02-10T12:20:06.741686-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.7","depends_on_id":"tts-8og.2","type":"blocks","created_at":"2026-02-10T12:20:06.84871-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.7","depends_on_id":"tts-8og.3","type":"blocks","created_at":"2026-02-10T12:20:06.960115-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.7","depends_on_id":"tts-8og.4","type":"blocks","created_at":"2026-02-10T12:20:07.072112-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.7","depends_on_id":"tts-8og.5","type":"blocks","created_at":"2026-02-10T12:20:07.179523-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.7","depends_on_id":"tts-8og.6","type":"blocks","created_at":"2026-02-10T12:20:07.292695-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.8","title":"Fix about page placeholders","description":"Replace about_02.html.erb placeholders: hero photo with /jesse-profile.jpg, team member with /jesse-profile.jpg, logo cloud with real podcast app SVGs (Apple Podcasts, Spotify, Overcast) or remove section.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:20:00.748113-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:23:23.625512-07:00","closed_at":"2026-02-10T12:23:23.625513-07:00","dependencies":[{"issue_id":"tts-8og.8","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:20:00.74906-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8og.9","title":"Review: visual check all tiles","description":"Visual review of all 6 feature tiles and about page. Check light/dark mode, mobile/desktop, wallpaper contrast, and that illustrations clearly communicate each feature.","status":"open","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T12:20:00.873097-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T12:20:00.873097-07:00","dependencies":[{"issue_id":"tts-8og.9","depends_on_id":"tts-8og","type":"parent-child","created_at":"2026-02-10T12:20:00.874064-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.9","depends_on_id":"tts-8og.7","type":"blocks","created_at":"2026-02-10T12:20:07.402096-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-8og.9","depends_on_id":"tts-8og.8","type":"blocks","created_at":"2026-02-10T12:20:07.512859-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-8x1","title":"Fix extension icon white background","description":"Extension icon has a white background in Chrome toolbar. Should have transparent background instead.","status":"closed","priority":2,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T08:00:24.555282-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T08:09:04.638215-07:00","closed_at":"2026-01-25T08:09:04.638215-07:00","close_reason":"Fixed extension icon white background by converting opaque white pixels (#FFFFFFFF) to transparent (#FFFFFF00) using ImageMagick. All three icon sizes (16x16, 48x48, 128x128) now have transparent backgrounds while preserving the teal icon content."}
{"id":"tts-90p","title":"Add security for email-to-podcast: opt-in + consider secret address","description":"Current implementation looks up user by sender email, which is spoofable.\n\n## Recommended approach: Secret email address + opt-in\n\n1. **Secret email address per user**\n   - Generate unique token per user (e.g., SecureRandom.urlsafe_base64(12))\n   - User's address: readtome+{token}@tts.verynormal.dev\n   - Store token in users table (email_ingest_token column)\n   - Lookup user by token in +address, NOT by sender email\n\n2. **Opt-in requirement**\n   - Add email_episodes_enabled column (default false)\n   - User enables in settings, which reveals their unique address\n   - Disabling regenerates the token (invalidates old address)\n\n## Implementation notes\n- Update ApplicationMailbox routing to capture +token\n- Update EpisodesMailbox to lookup by token instead of sender\n- Add settings UI to enable/disable and show unique address\n- Consider \"regenerate address\" button for users who want a new token\n\n## Why this approach\n- Unguessable: attacker can't know user's unique address\n- Opt-in: user must explicitly enable\n- Zero friction: once enabled, just email the address\n- Revocable: disable feature or regenerate token if compromised","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T21:25:04.323996-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:13:49.390896-07:00","closed_at":"2026-01-25T22:13:49.390896-07:00","close_reason":"Implemented in commit 99329a2"}
{"id":"tts-957","title":"Add composite index on api_tokens user_id + revoked_at","description":"active_token_for(user) queries by user and revoked_at: nil. Add composite index [:user_id, :revoked_at] to optimize this common access pattern.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:40.353571-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:51:26.439512-07:00","closed_at":"2026-01-25T12:51:26.439512-07:00","close_reason":"Added composite index on user_id and revoked_at"}
{"id":"tts-97h","title":"TTS Marketing Redesign","design":"Port Tailwind Plus Oatmeal (Mist/Instrument) from Next.js to ERB. All 13 page variations, Mist OKLCH palette, Instrument Serif + Inter fonts, rewritten copy for podread.app. Work in worktree at /Users/jesse/code/tts-marketing-redesign on branch marketing-redesign. Template source at /Users/jesse/Desktop/oatmeal-mist-instrument/. Brief at briefs/tts-marketing-redesign.md.","status":"open","priority":1,"issue_type":"epic","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:11.855788-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T10:43:11.855788-07:00"}
{"id":"tts-97h.1","title":"Scout: Map existing marketing pages and template components","description":"Map all existing Rails marketing routes, views, partials, layouts, and Stimulus controllers. Map all template components (elements, sections, icons). Produce a mapping of template component → ERB partial name. Identify gaps: clsx usage, @tailwindplus/elements dependency, anything that won't translate directly to ERB. Document in brief Scout Findings section.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:20.816324-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T11:01:46.07394-07:00","closed_at":"2026-02-08T11:01:46.073941-07:00","dependencies":[{"issue_id":"tts-97h.1","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T10:43:20.817458-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":2,"issue_id":"tts-97h.1","author":"Jesse Spevack","text":"Scout complete. Mapped 4 existing marketing routes, 6 views, 18 shared partials, 22 icons, 10 Stimulus controllers. Mapped 16 template element components, 38 section components, ~15-20 icons (of 108) actually used. Mapped all 13 page variations with exact section component usage. Produced full ERB partial naming convention (~60-65 new partials needed). Key findings: need separate marketing layout, Elements CDN for interactivity (no new Stimulus controllers), new routes for about/404 pages, ~15-20 new icon partials. See brief for full mapping.","created_at":"2026-02-08T18:01:14Z"}]}
{"id":"tts-97h.10","title":"Remove stale TODO chevron icon comments","description":"2 feature card partials have leftover TODO comments for chevron icons that are already inlined as SVGs. Remove the stale comments. Files: _features_two_col_card.html.erb, _features_alternating_card.html.erb (check others too).","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T15:25:48.860384-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:40:45.822934-07:00","closed_at":"2026-02-08T15:40:45.822934-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-97h.10","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T15:25:48.861551-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-97h.11","title":"Fix stale doc comments referencing 'Start free trial'","description":"2 pricing partials have doc comments still referencing 'Start free trial' from the template. Update to match PodRead copy. Not rendered, but keeps docs accurate.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T15:25:48.980999-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:40:45.926297-07:00","closed_at":"2026-02-08T15:40:45.926297-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-97h.11","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T15:25:48.982219-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-97h.12","title":"Replace placeholder images with real PodRead screenshots","description":"68 occurrences of placehold.co placeholder images across 9 page views. Need real PodRead screenshots (app UI, browser extension, podcast player). This is a content/design task — need actual screenshots captured first.","status":"open","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T15:25:49.101124-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:25:49.101124-07:00","dependencies":[{"issue_id":"tts-97h.12","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T15:25:49.102174-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-97h.13","title":"Fix nested main tags on privacy and 404 pages","description":"The marketing layout wraps yield in \u003cmain class='isolate overflow-clip'\u003e. 4 privacy/404 page views may also contain \u003cmain\u003e tags, creating invalid nested \u003cmain\u003e elements. Remove the inner \u003cmain\u003e tags from the page views. Files: privacy_01, privacy_02, error_404_01, error_404_02.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T15:25:49.221985-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:40:46.03032-07:00","closed_at":"2026-02-08T15:40:46.03032-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-97h.13","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T15:25:49.223041-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-97h.2","title":"Research: Tailwind v4 integration and dependency analysis","description":"Investigate: (1) How to integrate Tailwind v4 @theme directive with tailwindcss-rails gem. (2) Whether @tailwindplus/elements npm package is needed or can be replaced/inlined. (3) How clsx usage translates to ERB (likely just string interpolation). (4) How Mist OKLCH palette coexists with existing Catppuccin theme on authenticated pages. (5) Font loading strategy for Instrument Serif + Inter in Rails layout. Document in brief Research Notes section.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:27.25365-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T11:01:46.171285-07:00","closed_at":"2026-02-08T11:01:46.171286-07:00","dependencies":[{"issue_id":"tts-97h.2","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T10:43:27.254706-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":1,"issue_id":"tts-97h.2","author":"Jesse Spevack","text":"Research complete. Key findings: Tailwind v4.1.16 in the gem fully supports @theme directive -- Mist colors work out of the box alongside Catppuccin. @tailwindplus/elements is a Web Components library that can be included via CDN (no npm needed) for dialog, disclosure, tabs, and clipboard behaviors. clsx is not needed in ERB -- patterns are just class merging that becomes direct string output. Separate marketing layout is the clean path for palette/font coexistence. See brief for full details.","created_at":"2026-02-08T17:57:52Z"}]}
{"id":"tts-97h.3","title":"Implement: Tailwind config + fonts + Mist palette setup","description":"Set up the foundation before porting components: (1) Add Mist OKLCH color palette to Tailwind config. (2) Add Google Fonts links for Instrument Serif + Inter to layout. (3) Configure font-display and font-sans theme variables. (4) Ensure dark mode works with Mist palette. (5) Verify existing authenticated pages still render correctly with Catppuccin.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:45.072468-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T11:05:44.230669-07:00","closed_at":"2026-02-08T11:05:44.23067-07:00","dependencies":[{"issue_id":"tts-97h.3","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T10:43:45.073637-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.3","depends_on_id":"tts-97h.1","type":"blocks","created_at":"2026-02-08T10:43:50.551777-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.3","depends_on_id":"tts-97h.2","type":"blocks","created_at":"2026-02-08T10:43:50.656097-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":3,"issue_id":"tts-97h.3","author":"Jesse Spevack","text":"Implementation complete. Added Mist @theme block to application.css (above existing @layer base), created marketing.html.erb layout with Instrument Serif + Inter fonts, Elements CDN, Mist background classes, and isolate/overflow-clip main wrapper. Updated PagesController with layout 'marketing' for home/terms/privacy only. Help pages (how_it_sounds, add_rss_feed, extension_help) remain on application layout. Tailwind builds successfully (v4.1.16, 93ms). Application layout is unchanged.","created_at":"2026-02-08T18:04:48Z"}]}
{"id":"tts-97h.4","title":"Implement: Port shared components (navbar, footer, buttons, icons)","description":"Port the reusable template components to ERB partials: (1) Navbar variations → shared partial(s). (2) Footer variations → shared partial(s). (3) Button/link elements → helper or partial. (4) Section/container/heading/text elements → partials. (5) SVG icons → inline SVG partials or helper. (6) Screenshot/wallpaper decorative elements. Must work with Stimulus controllers for mobile menu, dark mode toggle.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:45.188003-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T11:18:14.713025-07:00","closed_at":"2026-02-08T11:18:14.713026-07:00","dependencies":[{"issue_id":"tts-97h.4","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T10:43:45.189149-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.4","depends_on_id":"tts-97h.1","type":"blocks","created_at":"2026-02-08T10:43:50.75981-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.4","depends_on_id":"tts-97h.2","type":"blocks","created_at":"2026-02-08T10:43:50.859242-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.4","depends_on_id":"tts-97h.3","type":"blocks","created_at":"2026-02-08T10:43:50.958174-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":4,"issue_id":"tts-97h.4","author":"Jesse Spevack","text":"Implementation complete. 74 ERB partials created (57 section/element + 17 icons). Tailwind builds clean. No existing files modified.","created_at":"2026-02-08T18:18:14Z"}]}
{"id":"tts-97h.5","title":"Implement: Port all 13 page variations to ERB","description":"Port all page variations: 3 home, 3 pricing, 3 about, 2 privacy policy, 2 404. Each becomes an ERB view or partial. Need a routing/switching mechanism so Jesse can preview all variations. Pages compose the shared components from the previous task.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:45.309655-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T14:55:06.271901-07:00","closed_at":"2026-02-08T14:55:06.271905-07:00","dependencies":[{"issue_id":"tts-97h.5","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T10:43:45.310741-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.5","depends_on_id":"tts-97h.4","type":"blocks","created_at":"2026-02-08T10:43:51.059551-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.5","depends_on_id":"tts-97h.8","type":"blocks","created_at":"2026-02-08T11:09:25.265727-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":9,"issue_id":"tts-97h.5","author":"Jesse Spevack","text":"All 13 page variations ported. 3 home, 3 pricing, 3 about, 2 privacy, 2 404. Routes, controller actions, and views created. All use marketing layout.","created_at":"2026-02-08T21:55:06Z"}]}
{"id":"tts-97h.6","title":"Implement: Rewrite marketing copy for podread.app","description":"Replace all template placeholder text with real podread.app marketing copy. Cover: hero headlines/subheadlines, feature descriptions, pricing tiers and details, about page content, privacy policy, FAQ content, testimonials, CTAs. Copy should reflect what podread.app actually does (article-to-podcast TTS).","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:45.428181-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:03:46.228643-07:00","closed_at":"2026-02-08T15:03:46.228645-07:00","dependencies":[{"issue_id":"tts-97h.6","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T10:43:45.429175-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.6","depends_on_id":"tts-97h.5","type":"blocks","created_at":"2026-02-08T10:43:51.165509-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":10,"issue_id":"tts-97h.6","author":"Jesse Spevack","text":"Copy rewrite complete across all 13 page variations. Real PodRead copy, pricing (Free $0 / Premium $7.99), testimonials, FAQs, privacy policy, about pages with solo founder angle.","created_at":"2026-02-08T22:03:46Z"}]}
{"id":"tts-97h.7","title":"Review: Visual comparison and regression check","description":"Compare ported ERB pages against the original Next.js template demo. Check: (1) Visual fidelity — do they look the same? (2) Responsive behavior — mobile, tablet, desktop. (3) Dark mode. (4) Interactive elements work (accordions, pricing toggle, mobile menu). (5) No regressions on authenticated app pages (episodes, settings, billing). (6) Fonts and colors render correctly.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T10:43:45.547532-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:40:46.132978-07:00","closed_at":"2026-02-08T15:40:46.132978-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-97h.7","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T10:43:45.548651-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.7","depends_on_id":"tts-97h.5","type":"blocks","created_at":"2026-02-08T10:43:51.269696-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.7","depends_on_id":"tts-97h.6","type":"blocks","created_at":"2026-02-08T10:43:51.374448-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":11,"issue_id":"tts-97h.7","author":"Jesse Spevack","text":"Review complete. 7 findings: 0 critical, 0 major, 5 minor, 2 nit. Key items: copyright year 2025-\u003e2026 in 6 footers, nested \u003cmain\u003e tags in privacy/404 pages, TODO comments left in 2 partials, default footer categories need PodRead-specific links. Overall: pass with issues. See brief for details.","created_at":"2026-02-08T22:23:26Z"}]}
{"id":"tts-97h.8","title":"Implement: Partial preview/inspection page with refinement checkboxes","description":"Create a temporary developer tool page to visually inspect all ~60 marketing partials. Requirements:\n\n1. A single route (e.g. /marketing-preview) behind a dev-only or admin gate\n2. Renders every partial from app/views/shared/marketing/ in sequence, each in its own labeled section with the partial name displayed\n3. Each partial has a checkbox to flag it as 'needs refinement'\n4. Checkbox state writes to a simple YAML file (e.g. tmp/partial_refinements.yml) mapping partial name -\u003e { needs_refinement: bool, notes: string }\n5. Optional notes text field per partial for what needs fixing\n6. Page should be navigable — anchor links or sidebar to jump between partials\n7. Show partials in both light and dark mode (side by side or toggle)\n\nThis is a throwaway dev tool — doesn't need to be pretty, just functional. Remove before merge.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T11:09:20.363267-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T11:28:28.368382-07:00","closed_at":"2026-02-08T11:28:28.368384-07:00","dependencies":[{"issue_id":"tts-97h.8","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T11:09:20.364072-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-97h.8","depends_on_id":"tts-97h.4","type":"blocks","created_at":"2026-02-08T11:09:25.168119-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":7,"issue_id":"tts-97h.8","author":"Jesse Spevack","text":"Preview page implemented at /marketing-preview. Controller, view, and route created. Partials wrapped in begin/rescue for safety. Sidebar nav with anchor links grouped by category (13 groups, 44 partials + icon grid). Each partial gets placeholder data matching its locals requirements. Refinement checkbox and notes form saves to tmp/partial_refinements.yml. Dark mode toggle in sidebar. Icons rendered in a grid.","created_at":"2026-02-08T18:27:19Z"}]}
{"id":"tts-97h.9","title":"Fix copyright year 2025 → 2026 in footer copy","description":"6 home/pricing page views have copyright year as 2025 instead of 2026. Update to 2026. Files: home_01, home_02, home_03, pricing_01, pricing_02, pricing_03.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T15:25:48.723343-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:40:45.718711-07:00","closed_at":"2026-02-08T15:40:45.718711-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-97h.9","depends_on_id":"tts-97h","type":"parent-child","created_at":"2026-02-08T15:25:48.72448-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-9a8","title":"Implement Readability wrapper and pre-check (extractor.ts)","description":"Create extractor.ts module:\n- Bundle Mozilla Readability.js\n- isArticleLike() pre-check function\n- extract() function returning { title, content, author, description, url }\n- Handle extraction failures\n\nPre-check heuristics:\n- Has \u003carticle\u003e element\n- Has main content area\n- Has 200+ words\n- Has article meta tags\n\nPart of Phase 3: Extension Core","status":"closed","priority":2,"issue_type":"task","assignee":"Jesse Spevack","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:38.941883-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:38:44.388983-07:00","closed_at":"2026-01-24T14:38:44.388983-07:00","close_reason":"Implemented extractor.ts with isArticleLike() and extract() using Mozilla Readability","dependencies":[{"issue_id":"tts-9a8","depends_on_id":"tts-76v","type":"blocks","created_at":"2026-01-24T13:40:57.660248-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-9dw","title":"Implement token storage (auth.ts)","description":"Create auth.ts module:\n- Store token in chrome.storage.sync\n- Retrieve token\n- Clear token (for disconnect)\n- Check if connected (token exists)\n\nPart of Phase 3: Extension Core","status":"closed","priority":2,"issue_type":"task","assignee":"Jesse Spevack","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:36.39781-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:34:37.689916-07:00","closed_at":"2026-01-24T14:34:37.689916-07:00","close_reason":"auth.ts module implemented with storeToken, getToken, clearToken, isConnected functions. All 9 tests passing.","dependencies":[{"issue_id":"tts-9dw","depends_on_id":"tts-76v","type":"blocks","created_at":"2026-01-24T13:40:55.349473-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-9hk","title":"Change console.log to console.error in background.ts:129","description":"background.ts:129 - Use console.error instead of console.log for error logging.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:35.551309-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:21.120434-07:00","closed_at":"2026-01-25T12:53:21.120434-07:00","close_reason":"Closed"}
{"id":"tts-9q1","title":"Add verynormal.dev to manifest host_permissions","description":"manifest.json:10-12 - Missing host permission for production domain. API calls to tts.verynormal.dev will fail. Add https://*.verynormal.dev/* to host_permissions array.","status":"closed","priority":0,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:08.879743-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.374805-07:00","closed_at":"2026-01-25T12:47:51.374805-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-cat","title":"Fix browser extension tests for podread.app domain","notes":"content.test.ts still asserts verynormal.fyi/verynormal.dev but source changed to podread.app. 9 test failures. Update assertions to podread.app, fix length check (3→2), update isTrustedDomain test cases.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T14:48:28.314777-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T14:51:07.324894-07:00","closed_at":"2026-02-08T14:51:07.324894-07:00","close_reason":"Closed"}
{"id":"tts-cby","title":"Verify: grep for remaining verynormal references","description":"Run grep -r verynormal across *.rb *.yml *.erb *.ts *.js *.json. Only the old migration should remain. Confirm all tests pass clean.","notes":"PR 1 merged. Remaining verynormal refs are intentionally deferred to PR 2: deploy.yml, .kamal/secrets. Also: migration (immutable), artwork URLs (external asset), braindump.md (stale notes), STORE_LISTING.md (manual update).","status":"open","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T11:10:55.304146-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:22:16.674923-07:00","dependencies":[{"issue_id":"tts-cby","depends_on_id":"tts-nas","type":"blocks","created_at":"2026-02-08T11:13:30.824904-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-cby","depends_on_id":"tts-00v","type":"blocks","created_at":"2026-02-08T11:13:30.896421-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-ced","title":"Implement icon state management (icons.ts)","description":"Create icons.ts module:\n- Set icon to different states: neutral, loading, success, error, offline\n- Success/error states auto-revert to neutral after 2-3 seconds\n- Different icon images or badge text for each state\n\nPart of Phase 4: Extension UX","status":"closed","priority":2,"issue_type":"task","assignee":"Jesse Spevack","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:53.837738-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:39:56.389522-07:00","closed_at":"2026-01-24T14:39:56.389522-07:00","close_reason":"Implemented icons.ts with setIconState for neutral/loading/success/error/offline states, auto-revert for success/error, full test coverage","dependencies":[{"issue_id":"tts-ced","depends_on_id":"tts-76v","type":"blocks","created_at":"2026-01-24T13:41:03.74246-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-cj9","title":"Improve LLM author extraction prompt","notes":"BuildsProcessingPrompt#author_instruction currently says 'use Unknown if not found'. Make it push harder to find author from bylines, headers, written-by patterns before defaulting. See agent-team brief: briefs/tts-author-extraction.md","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-07T21:27:14.460291-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T13:03:34.420457-07:00","closed_at":"2026-02-08T13:03:34.420457-07:00","close_reason":"Closed"}
{"id":"tts-cty","title":"Expand HTML author extraction selectors","notes":"ExtractsArticle#extract_author currently only checks meta[name=author]. Add: article:author, og:article:author, twitter:creator, and common byline CSS selectors. See agent-team brief: briefs/tts-author-extraction.md","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-07T21:27:12.992461-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T13:03:34.498034-07:00","closed_at":"2026-02-08T13:03:34.498034-07:00","close_reason":"Closed"}
{"id":"tts-dau","title":"Implement auth callback to pass token to extension","description":"After user authenticates, the token needs to be passed back to the extension.\n\nCurrent state: /api/v1/extension_token returns JSON but extension has no way to receive it.\n\nOptions:\n1. Redirect to chrome-extension://\u003cid\u003e/callback?token=... \n2. Use a web page that calls chrome.runtime.sendMessage\n3. Use a dedicated callback page that stores token via postMessage\n\nNeed to implement the callback mechanism so extension can store the token after auth.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T08:04:21.217705-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T08:10:12.976471-07:00","closed_at":"2026-01-25T08:10:12.976471-07:00","close_reason":"Implemented GET /extension/connect endpoint for auth callback. The page requires login, generates an API token, and passes it to the extension via data attributes and custom events. Updated content.ts to listen for tokens on the connect page, and updated popup.ts and background.ts to use the new URL."}
{"id":"tts-dpv","title":"Add email_ingest_address convenience method to User model","description":"The pattern `GeneratesEmailIngestAddress.call(user: Current.user)` is used in multiple places (settings controller, views). A convenience method on User would be cleaner and more idiomatic.\n\n**Recommendation:** Add to app/models/user.rb:\n```ruby\ndef email_ingest_address\n  GeneratesEmailIngestAddress.call(user: self)\nend\n```\n\nThis allows simpler usage: `Current.user.email_ingest_address` instead of the service call.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T22:39:28.016061-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:42:55.528969-07:00","closed_at":"2026-01-25T22:42:55.528969-07:00","close_reason":"Implemented code review suggestions - all 5 items completed"}
{"id":"tts-dxu","title":"Handle JSON parse errors in api.ts error handling","description":"api.ts:60 - response.json() throws on non-JSON error pages (e.g., HTML error page). Wrap in try/catch and use default error message on parse failure.","status":"closed","priority":2,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:24.159297-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:21.064652-07:00","closed_at":"2026-01-25T12:53:21.064652-07:00","close_reason":"Closed"}
{"id":"tts-e77","title":"Investigate removing sign_in route redirect","description":"routes.rb:18 - Comment asks if we can delete the sign_in redirect. Investigate if this route is still needed for backwards compatibility or can be removed.","status":"closed","priority":4,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:47.87414-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T15:50:57.553085-07:00","closed_at":"2026-01-25T15:50:57.553085-07:00","close_reason":"Keep redirects - 2 lines, harmless backwards compatibility"}
{"id":"tts-ekw","title":"Create Api::V1::BaseController with token auth","description":"Create base controller for API v1 namespace with:\n- Bearer token authentication (Authorization header)\n- Token lookup and validation\n- Set current_user from token\n- Handle 401 for invalid/missing/revoked tokens\n- Update last_used_at on successful auth\n\nPart of Phase 1: Backend Foundation","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:07.168089-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:14:27.71814-07:00","closed_at":"2026-01-24T14:14:27.71814-07:00","close_reason":"Created Api::V1::BaseController with Bearer token auth, last_used_at tracking, and 7 passing tests","dependencies":[{"issue_id":"tts-ekw","depends_on_id":"tts-r8l","type":"blocks","created_at":"2026-01-24T13:40:39.833879-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-ekw","depends_on_id":"tts-hyq","type":"blocks","created_at":"2026-01-24T13:40:39.906605-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-er4","title":"Email-to-Podcast: Allow episode creation via email","description":"Allow users to create podcast episodes by emailing content to readtome@tts.verynormal.dev. Email body becomes episode content, processed through existing LLM pipeline. Sender email maps to user account.","status":"closed","priority":1,"issue_type":"feature","owner":"jspevack@gmail.com","created_at":"2026-01-24T14:41:28.817238-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:52:23.508108-07:00","closed_at":"2026-01-24T14:52:23.508108-07:00","close_reason":"Email-to-podcast feature committed in ab8b0a7"}
{"id":"tts-f3y","title":"Use Stimulus for JavaScript in extension connect view","description":"extension/connect/show.html.erb:47 - Replace inline JavaScript with Stimulus controller following app conventions.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:04.678968-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:51:04.850846-07:00","closed_at":"2026-01-25T12:51:04.850846-07:00","close_reason":"Closed"}
{"id":"tts-fj5","title":"Validate domain origin before accepting tokens in content.ts","description":"content.ts:21-33 - Token injection vulnerability. Any page can dispatch tts-extension-token event or set data-tts-token attribute. Fix: Check window.location.hostname against trusted domains list before accepting tokens.","status":"closed","priority":0,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:07.752963-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:50:44.319445-07:00","closed_at":"2026-01-25T12:50:44.319445-07:00","close_reason":"Closed"}
{"id":"tts-fkm","title":"Redesign ApiToken to use pk_live_/pk_test_ prefix pattern","description":"Refactor ApiToken model:\n- Change prefix from tts_ext_ to pk_live_ (production) or pk_test_ (dev/test)\n- Remove token_prefix database column (migration needed)\n- Token shown once at generation, never stored/displayed again\n- Update Settings/Extensions page to show status + metadata (created_at, last_used_at) instead of token value\n\nFollows Stripe API key pattern.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:36:40.238092-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:44:23.725703-07:00","closed_at":"2026-01-25T12:44:23.725703-07:00","close_reason":"Implemented pk_live_/pk_test_ prefix pattern, removed token_prefix column references, updated all tests"}
{"id":"tts-g6s","title":"Add rate limiting to email-to-podcast via ChecksEpisodeRateLimit service","description":"## Problem\nThe email endpoint (EpisodesMailbox) has no rate limiting, while the API endpoint uses Rack::Attack (20 episodes/hour per user). An attacker with a valid token could spam episode creation via email.\n\nAdditionally, status codes are inconsistent: Rack::Attack returns 429, but the API controller returns 403 for episode limits.\n\n## Solution\nCreate a shared ChecksEpisodeRateLimit service that enforces a 20/hour limit across ALL channels (API and email). Standardize on 429 for all rate/limit exceeded responses.\n\n## Implementation\n1. Create ChecksEpisodeRateLimit service\n   - Input: user\n   - Output: Result.success or Result.failure(\"You've reached your hourly episode limit\")\n   - Check user's episode count in the last hour\n\n2. Update EpisodesMailbox to call ChecksEpisodeRateLimit before creating episode\n   - On failure, use existing send_failure_notification pattern\n\n3. Refactor API controller to use ChecksEpisodeRateLimit\n   - Remove any inline rate limit logic (likely in check_episode_creation_permission)\n   - Use the shared service instead\n   - Return 429 (not 403) when rate limited\n\n4. Standardize on 429 for rate/limit exceeded\n   - API controller should return 429 for episode limit exceeded\n   - Consistent with Rack::Attack behavior\n\n## Acceptance Criteria\n- [ ] ChecksEpisodeRateLimit service exists with Result pattern\n- [ ] EpisodesMailbox checks rate limit before episode creation\n- [ ] API controller uses same service\n- [ ] 20/hour limit is shared across all channels\n- [ ] API returns 429 (not 403) when episode limit exceeded\n- [ ] Tests cover rate limit enforcement for both channels","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-26T21:38:38.085871-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-26T21:51:00.6967-07:00","closed_at":"2026-01-26T21:51:00.6967-07:00","close_reason":"Implemented and all tests passing"}
{"id":"tts-g8n","title":"Add documentation explaining content.ts purpose","description":"content.ts:102 - Add comments/documentation explaining what the content script does: token capture from connect page, article extraction on demand via message passing.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:38.108789-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:21.151291-07:00","closed_at":"2026-01-25T12:53:21.151291-07:00","close_reason":"Closed"}
{"id":"tts-hpm","title":"TTS App UI Redesign","design":"Sidebar nav layout (xl:w-72) with mobile dialog. Mist OKLCH replaces Catppuccin+gray. Tailwind Plus app UI patterns: deployment list for episodes, two-column detail for show, tabs+stacked form for create, two-column cards for settings/billing, stacked sections for help. Accent: mist-950 replaces indigo-600. Icons: Heroicons from Tailwind Plus. Elements CDN for dialogs/dropdowns.","status":"open","priority":1,"issue_type":"epic","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:58:16.383059-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T21:58:16.383059-07:00"}
{"id":"tts-hpm.1","title":"Scout: Map all authenticated views, helpers, controllers needing changes","description":"Inventory every file that references Catppuccin colors, gray utilities, or the old layout. Map all authenticated views, shared partials, helpers (ui_helper.rb, episodes_helper.rb), Stimulus controllers, and CSS. Produce a complete change manifest.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:58:22.153022-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:05:41.119267-07:00","closed_at":"2026-02-08T22:05:41.119267-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-hpm.1","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:58:22.154755-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.10","title":"Implement: Help page (single page, stacked sections)","description":"Consolidate three help pages (how_it_sounds, add_rss_feed, extension_help) into a single help page with stacked sections separated by borders. Section 1: How It Sounds -- audio samples with playback. Section 2: Add RSS Feed -- step-by-step instructions. Section 3: Browser Extension -- setup guide, Chrome Web Store link. Update routes accordingly.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:59:24.669791-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:41:34.695272-07:00","closed_at":"2026-02-08T22:41:34.695274-07:00","dependencies":[{"issue_id":"tts-hpm.10","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:59:24.671301-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.10","depends_on_id":"tts-hpm.4","type":"blocks","created_at":"2026-02-08T21:59:24.782735-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.11","title":"Review: Visual comparison + regression check","description":"Review all redesigned pages for visual consistency with Mist palette. Check dark mode on every page. Verify Turbo Frames/Streams still work (pagination, deletion, real-time episode updates). Confirm marketing pages are untouched. Test mobile sidebar dialog. Check Stripe billing portal redirect. Run ERB syntax validation.","status":"open","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:59:31.943729-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T21:59:31.943729-07:00","dependencies":[{"issue_id":"tts-hpm.11","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:59:31.945255-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.11","depends_on_id":"tts-hpm.5","type":"blocks","created_at":"2026-02-08T21:59:32.068166-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.11","depends_on_id":"tts-hpm.6","type":"blocks","created_at":"2026-02-08T21:59:32.204914-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.11","depends_on_id":"tts-hpm.7","type":"blocks","created_at":"2026-02-08T21:59:32.317292-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.11","depends_on_id":"tts-hpm.8","type":"blocks","created_at":"2026-02-08T21:59:32.429757-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.11","depends_on_id":"tts-hpm.9","type":"blocks","created_at":"2026-02-08T21:59:32.541264-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.11","depends_on_id":"tts-hpm.10","type":"blocks","created_at":"2026-02-08T21:59:32.655107-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.12","title":"Standardize icon partials: consistent css_class param, sizing, and Heroicon versions","description":"108 Tailwind Plus icons at /Users/jesse/Desktop/oatmeal-mist-instrument/components/icons/ (TSX React components) need to be ported to ERB partials. These are NOT standard Heroicons -- they're custom Tailwind Plus icons with smaller viewBoxes (11x13, 13x7, etc.), thinner strokes (strokeWidth=1), and inline-block default class. Each accepts className prop (becomes css_class local in ERB). Current app has 22 icon partials using standard Heroicons (24x24, stroke-width 1.5). Task: (1) Port all 108 TSX icons to ERB partials with css_class support, (2) Replace the 22 existing partials where a Tailwind Plus equivalent exists, (3) Update all render calls if partial names change.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T22:40:40.009512-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:46:48.966744-07:00","closed_at":"2026-02-08T22:46:48.966746-07:00","dependencies":[{"issue_id":"tts-hpm.12","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T22:40:40.010765-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.2","title":"Research: Color mapping validation, accent decisions, sidebar architecture","description":"Validate the gray→mist color mapping works visually. Decide on accent color treatment (mist-950 for primary, what for hover/focus?). Confirm sidebar layout works with existing Turbo Frame setup. Check if el-dialog/el-dropdown from Elements CDN work in the app layout alongside existing Stimulus controllers.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:58:28.255415-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:05:41.232708-07:00","closed_at":"2026-02-08T22:05:41.232708-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-hpm.2","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:58:28.256975-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.3","title":"Implement: App layout with top bar + mobile nav dialog","description":"Create new authenticated app layout with top header nav bar. Header: PodRead logo left, nav links center (Episodes, Settings, Billing, Help), + New Episode CTA button (mist-950 pill) + user avatar right. Mobile: hamburger opens el-dialog menu. Full-width content below header. Replaces current application.html.erb header. Loads Instrument Serif + Inter fonts and Elements CDN.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:58:35.630482-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:38:04.760322-07:00","closed_at":"2026-02-08T22:38:04.760323-07:00","dependencies":[{"issue_id":"tts-hpm.3","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:58:35.63242-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.3","depends_on_id":"tts-hpm.1","type":"blocks","created_at":"2026-02-08T21:58:35.753335-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.3","depends_on_id":"tts-hpm.2","type":"blocks","created_at":"2026-02-08T21:58:35.873861-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.4","title":"Implement: Color migration (CSS, helpers, shared partials)","description":"Remove Catppuccin custom properties from application.css. Replace all var(--color-*) references with mist-* utilities. Update ui_helper.rb button/form styles. Update shared partials (flash, card, empty_state, pagination, etc). Update episodes_helper.rb status badges. All gray-* becomes mist-*, indigo-* becomes mist-950/mist-600.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:58:42.107747-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:38:04.880932-07:00","closed_at":"2026-02-08T22:38:04.880934-07:00","dependencies":[{"issue_id":"tts-hpm.4","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:58:42.109475-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.4","depends_on_id":"tts-hpm.3","type":"blocks","created_at":"2026-02-08T21:58:42.230572-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.5","title":"Implement: Episodes index (deployment list pattern)","description":"Redesign episodes index using deployment list pattern. Each row: status dot (gray=pending, yellow+pulse=processing, green=complete, rose=failed), episode title, metadata line (author + date or source + timestamp), chevron for click-through. Page header with sort dropdown. RSS feed link + copy button. Empty state. Pagination at bottom. Preserve Turbo Frame for pagination.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:58:51.09829-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:41:24.047319-07:00","closed_at":"2026-02-08T22:41:24.04732-07:00","dependencies":[{"issue_id":"tts-hpm.5","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:58:51.099993-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.5","depends_on_id":"tts-hpm.4","type":"blocks","created_at":"2026-02-08T21:58:51.218509-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.6","title":"Implement: Episode show (two-column detail + auth-aware layout)","description":"Redesign episode show with two-column layout. Left (2/3): title (Instrument Serif), author, audio player, content preview. Right (1/3): summary card with status badge, duration, date, source URL, action buttons (Download, Share, View Original, Delete). Auth-aware: owner gets sidebar layout, shared links get marketing/public layout. Backend change needed in episodes controller.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:58:57.844205-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:41:12.486408-07:00","closed_at":"2026-02-08T22:41:12.48641-07:00","dependencies":[{"issue_id":"tts-hpm.6","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:58:57.845714-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.6","depends_on_id":"tts-hpm.4","type":"blocks","created_at":"2026-02-08T21:58:57.963444-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.7","title":"Implement: Create episode (tabs + stacked form)","description":"Redesign new episode form. Tab switcher (URL / Paste Text / Upload File). Simple stacked form layout per tab. URL tab: URL input + submit. Paste tab: title (optional), author (optional), textarea + submit. Upload tab: title, author, description + drag-drop file upload zone + submit. Tailwind Plus form input styling. Preserve existing Stimulus controllers (tab_switch, file_upload).","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:59:05.676041-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:41:52.038104-07:00","closed_at":"2026-02-08T22:41:52.038105-07:00","dependencies":[{"issue_id":"tts-hpm.7","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:59:05.677911-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.7","depends_on_id":"tts-hpm.4","type":"blocks","created_at":"2026-02-08T21:59:05.799706-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.8","title":"Implement: Settings (two-column with cards)","description":"Redesign settings page using two-column with cards pattern (md:grid-cols-3). Card 1: Voice selection -- radio card grid (2 columns) with audio preview buttons. Card 2: Browser Extension -- connection status indicator, last used timestamp, disconnect button. Card 3: Email to Podcast -- toggle switch, email address with copy button, token regeneration. Each card saves independently.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:59:12.235978-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:42:29.41688-07:00","closed_at":"2026-02-08T22:42:29.416882-07:00","dependencies":[{"issue_id":"tts-hpm.8","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:59:12.237629-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.8","depends_on_id":"tts-hpm.4","type":"blocks","created_at":"2026-02-08T21:59:12.358005-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hpm.9","title":"Implement: Billing/Upgrade (two-column with cards)","description":"Redesign billing page using two-column with cards. Card 1: Current Plan -- plan name + status badge (Active/Canceled/Past Due/Unlimited/Complimentary), usage bar (X of Y episodes), renewal/end date, Manage Subscription button → Stripe portal. Card 2: Upgrade (free users only) -- pricing comparison, upgrade CTA. Handle all plan states correctly.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T21:59:18.480385-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T22:42:43.01993-07:00","closed_at":"2026-02-08T22:42:43.019931-07:00","dependencies":[{"issue_id":"tts-hpm.9","depends_on_id":"tts-hpm","type":"parent-child","created_at":"2026-02-08T21:59:18.482509-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-hpm.9","depends_on_id":"tts-hpm.4","type":"blocks","created_at":"2026-02-08T21:59:18.603239-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hw9","title":"Consolidate duplicate settings namespace blocks in routes.rb","description":"## Problem\nThe settings namespace is defined twice in config/routes.rb:\n- Lines 45-48: email_episodes and email_token routes\n- Lines 55-57: extensions route\n\n## Solution\nMerge into a single namespace block for maintainability.\n\n## Implementation\nConsolidate into one block:\n```ruby\nnamespace :settings do\n  resource :email_episodes, only: [:create, :destroy]\n  resource :email_token, only: [:create]\n  resource :extensions, only: [:show, :destroy]\nend\n```\n\n## Acceptance Criteria\n- [ ] Single namespace :settings block in routes.rb\n- [ ] All routes still work (email_episodes, email_token, extensions)\n- [ ] rake routes output unchanged","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-26T21:41:27.004508-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-26T21:47:01.017442-07:00","closed_at":"2026-01-26T21:47:01.017442-07:00","close_reason":"Merged duplicate namespace blocks into single block"}
{"id":"tts-hyq","title":"Add token generation and revocation logic","description":"Add methods to ApiToken model for:\n- Generating new tokens (returns plain token once, stores hashed)\n- Revoking tokens (sets revoked_at)\n- Validating tokens (lookup by hash, check not revoked)\n- Finding by prefix (for display in UI)\n\nOne active token per user - generating new token revokes old one.\n\nPart of Phase 1: Backend Foundation","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:05.606183-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:03:53.393909-07:00","closed_at":"2026-01-24T14:03:53.393909-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-hyq","depends_on_id":"tts-r8l","type":"blocks","created_at":"2026-01-24T13:40:37.679151-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-hzm","title":"Create Api::V1::EpisodesController","description":"Create endpoint for extension to submit articles:\n\nPOST /api/v1/episodes\n- Accepts: title, content, url, author, description\n- Creates episode for user's primary podcast\n- Uses account default voice/settings\n- Returns { id: 'episode_xxx' } on success\n\nError responses:\n- 401 Unauthorized (bad token)\n- 422 Unprocessable Entity (validation errors)\n- 429 Too Many Requests (rate limited)\n\nPart of Phase 1: Backend Foundation","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:08.381373-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:26:42.797196-07:00","closed_at":"2026-01-24T14:26:42.797196-07:00","close_reason":"Implemented Api::V1::EpisodesController with CreatesExtensionEpisode service","dependencies":[{"issue_id":"tts-hzm","depends_on_id":"tts-ekw","type":"blocks","created_at":"2026-01-24T13:40:40.755206-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-iw4","title":"Fix token hashing to use HMAC with secret","description":"api_token.rb uses plain SHA256 without secret, vulnerable to rainbow table attacks if DB compromised. Fix: Use OpenSSL::HMAC.hexdigest with Rails secret_key_base","status":"closed","priority":0,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:05.843285-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.409346-07:00","closed_at":"2026-01-25T12:47:51.409346-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-jzm","title":"Update privacy policy for extension","description":"Update /privacy to cover:\n- Extension collects current page URL and content\n- Content sent to TTS servers for processing\n- No data sold to third parties\n\nPart of Phase 2: Web App UI","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:21.509304-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:50:23.172665-07:00","closed_at":"2026-01-24T14:50:23.172665-07:00","close_reason":"Added Browser Extension section covering page content collection, auth token storage, and error logging"}
{"id":"tts-k11","title":"Simplify extension click: auth or extract based on token state","description":"Change icon click behavior:\n- If no API token stored: open auth page directly\n- If token exists: extract article and send to API\n\nRemove popup intermediary for connect flow. Disconnect already handled via Settings → Extensions page in web app.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T08:03:31.219793-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T08:12:02.034634-07:00","closed_at":"2026-01-25T08:12:02.034634-07:00","close_reason":"Simplified extension click behavior: removed default_popup from manifest.json so chrome.action.onClicked always fires. When clicked, if no token exists, opens /extension/connect directly; if token exists, triggers article extraction. Removed updatePopupState() and related listeners from background.ts. Also fixed production URLs in api.ts and popup.ts (were still using localhost).","dependencies":[{"issue_id":"tts-k11","depends_on_id":"tts-dau","type":"blocks","created_at":"2026-01-25T08:04:27.281339-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-kwg","title":"Remove unused popup.html and popup.js from extension build","status":"closed","priority":4,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T16:26:35.482531-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T20:28:24.251276-07:00","closed_at":"2026-01-25T20:28:24.251276-07:00","close_reason":"Removed unused popup files"}
{"id":"tts-lhy","title":"Add fetch timeout with AbortController in api.ts","description":"api.ts:46-53 - No timeout on fetch calls. Slow/hanging requests block indefinitely. Fix: Add AbortController with 30 second timeout.","status":"closed","priority":2,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:23.387884-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:21.081669-07:00","closed_at":"2026-01-25T12:53:21.081669-07:00","close_reason":"Closed"}
{"id":"tts-lj2","title":"Replace popup with context menu for disconnect","description":"Remove popup.ts and popup.html - not needed since icon click must remain one-click article send.\n\nAdd right-click context menu on extension icon with 'Disconnect from TTS' option using chrome.contextMenus API:\n- Register menu in chrome.runtime.onInstalled\n- Handle click to clear token and show disconnected badge state\n- Add 'contextMenus' permission to manifest","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:36:44.960478-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:21.048106-07:00","closed_at":"2026-01-25T12:53:21.048106-07:00","close_reason":"Closed"}
{"id":"tts-lkx","title":"Audio sample modal on announcement badge","description":"Change the hero announcement badge ('Now with natural-sounding HD voices') from linking to #features to opening a modal with an audio sample. CTA text: 'Hear how it sounds'. Requires: (1) sample_modal Stimulus controller, (2) _sample_modal.html.erb partial with dialog + audio player using /sample-standard-d.mp3, (3) wire controller on marketing layout body, (4) change badge from \u003ca\u003e to \u003cbutton\u003e with data-action sample-modal#open.","status":"open","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T20:51:15.743455-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T20:51:15.743455-07:00","labels":["enhancement"],"comments":[{"id":12,"issue_id":"tts-lkx","author":"Jesse Spevack","text":"About page (about_02.html.erb) also has the same HD voices announcement badge. Both should open the sample modal.","created_at":"2026-02-11T03:51:52Z"}]}
{"id":"tts-lum","title":"Change ExtensionLogsController log level to error","description":"extension_logs_controller.rb:6 - Change Rails.logger.info to Rails.logger.error since these are error logs from the extension.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:37:41.255803-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.442567-07:00","closed_at":"2026-01-25T12:47:51.442567-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-m9v","title":"Change HTTP 429 to 403 for episode limit exceeded","description":"episodes_controller.rb:37 - Using 429 Too Many Requests for business logic (tier limits). 429 is for rate limiting. Use 403 Forbidden or 402 Payment Required for tier limits.","status":"closed","priority":3,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:37.490881-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.460797-07:00","closed_at":"2026-01-25T12:47:51.460797-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-mh5","title":"Remove unused @anthropic-ai/sdk from extension package.json","description":"package.json:17 lists @anthropic-ai/sdk as dependency but it appears unused in extension code. Remove to reduce bundle size.","status":"closed","priority":4,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:41.305678-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:49:06.082433-07:00","closed_at":"2026-01-25T12:49:06.082433-07:00","close_reason":"Quick fixes completed"}
{"id":"tts-n9g","title":"Submit extension to Chrome Web Store","description":"HUMAN TASK - Cannot be done by Claude\n\n1. Upload zip package to Developer Dashboard\n2. Fill in listing details (descriptions, screenshots)\n3. Link privacy policy URL\n4. Set visibility to Unlisted\n5. Submit for review\n\nReview typically takes 1-3 business days.\n\nPart of Phase 5: Polish \u0026 Deploy","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:40:16.588047-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T20:52:51.587753-07:00","closed_at":"2026-01-25T20:52:51.587753-07:00","close_reason":"Submitted to Chrome Web Store for review","dependencies":[{"issue_id":"tts-n9g","depends_on_id":"tts-rs7","type":"blocks","created_at":"2026-01-24T13:41:17.470884-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-n9g","depends_on_id":"tts-1kn","type":"blocks","created_at":"2026-01-24T13:41:17.539865-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-n9g","depends_on_id":"tts-veg","type":"blocks","created_at":"2026-01-24T13:41:17.609829-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-nas","title":"Add AppConfig::Domain module and update all hardcoded refs","description":"Add Domain module (HOST, BASE_URL, MAIL_FROM from env vars). Update all ~20 hardcoded tts.verynormal.dev references in Rails app, email templates, RSS feed, mailer, podcast.yml, README, .env. Update browser extension to podread.app. Update test assertions to use example.com.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T11:10:44.643284-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T15:22:16.57192-07:00","closed_at":"2026-02-08T15:22:16.57192-07:00","close_reason":"Closed","dependencies":[{"issue_id":"tts-nas","depends_on_id":"tts-pz8","type":"blocks","created_at":"2026-02-08T11:13:30.677188-07:00","created_by":"Jesse Spevack"}],"comments":[{"id":5,"issue_id":"tts-nas","author":"Jesse Spevack","text":"Code changes complete: AppConfig::Domain module added, all hardcoded refs updated, browser extension updated to podread.app, tests updated to assert against example.com. One issue discovered: config/application.rb can't reference AppConfig (loads before autoloading), so uses ENV.fetch directly — minor duplication of default value.","created_at":"2026-02-08T18:22:42Z"}]}
{"id":"tts-nnm","title":"Add nil check for Current.user in ExtensionTokensController","description":"extension_tokens_controller.rb:6 - If authentication fails silently, Current.user could be nil causing errors. Add explicit nil check with 401 response.","status":"closed","priority":0,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:06.755066-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.393008-07:00","closed_at":"2026-01-25T12:47:51.393008-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-nxw","title":"Split help into three separate pages","description":"Separate the current /how-it-sounds help page into three standalone pages: (1) How It Sounds - audio samples, (2) Add RSS Feed - podcast app instructions, (3) Browser Extension - install/usage/troubleshooting. Each page gets its own route and nav.","status":"open","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T20:47:31.794558-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T20:47:31.794558-07:00","labels":["enhancement"]}
{"id":"tts-odj","title":"Implement API client (api.ts)","description":"Create api.ts module:\n- POST /api/v1/episodes with bearer token\n- POST /api/v1/extension_logs for failures\n- Handle response codes (401, 422, 429)\n- Return typed responses\n\nPart of Phase 3: Extension Core","status":"closed","priority":2,"issue_type":"task","assignee":"Jesse Spevack","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:37.447855-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:37:21.55207-07:00","closed_at":"2026-01-24T14:37:21.55207-07:00","close_reason":"API client with createEpisode and logExtensionFailure, includes Retry-After handling for rate limits","dependencies":[{"issue_id":"tts-odj","depends_on_id":"tts-76v","type":"blocks","created_at":"2026-01-24T13:40:56.622732-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-odj","depends_on_id":"tts-hzm","type":"blocks","created_at":"2026-01-24T13:40:56.691982-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-p3x","title":"Add token format validation in auth.ts storeToken","description":"auth.ts:11 - No validation of token format before storing. Add regex validation for tts_ext_ prefix and expected length before storing to chrome.storage.sync.","status":"closed","priority":1,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:09.565124-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:50:44.336321-07:00","closed_at":"2026-01-25T12:50:44.336321-07:00","close_reason":"Closed"}
{"id":"tts-ppo","title":"Replace email address copy button with icon and add click feedback","description":"The copy button for the email address should use a copy icon instead of text, matching the RSS link copy button on the episodes list page. When clicked, it should show visual feedback (like the RSS copy does) to indicate the copy was successful.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T22:50:39.913208-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-28T13:28:47.281641-07:00","closed_at":"2026-01-28T13:28:47.281641-07:00","close_reason":"Closed"}
{"id":"tts-pz8","title":"Domain consolidation: tts.verynormal.dev → APP_HOST","design":"Consolidate all hardcoded domain refs to derive from APP_HOST env var. Two PRs: (1) consolidate refs, (2) swap domain value. Also fix pre-existing flaky EpisodesMailboxTest.","status":"in_progress","priority":1,"issue_type":"epic","owner":"jspevack@gmail.com","created_at":"2026-02-08T11:07:22.867669-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T11:17:47.897584-07:00"}
{"id":"tts-r8l","title":"Create ApiToken model and migration","description":"Create the ApiToken model for storing extension authentication tokens.\n\nSchema:\n- user_id (references users, not null)\n- token_digest (string, not null, hashed)\n- token_prefix (string, not null, first 8 chars for display)\n- last_used_at (datetime)\n- revoked_at (datetime)\n- timestamps\n\nIndexes:\n- unique index on token_digest\n- index on token_prefix\n\nPart of Phase 1: Backend Foundation","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:04.484217-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T13:51:39.468469-07:00","closed_at":"2026-01-24T13:51:39.468469-07:00","close_reason":"Implementation complete, tests passing"}
{"id":"tts-rfc","title":"Scope Chrome extension implementation from PR #172 proposal","description":"Based on the Chrome extension proposal in PR #172, break down the implementation into discrete tasks.\n\n## Background\nPR #172 proposes a minimal Chrome extension (~100 LOC) using:\n- TypeScript with Manifest V3\n- Server-side extraction (reuse existing ExtractsArticle service)\n- Monorepo structure (browser_extension/ directory)\n- Bearer token authentication\n- Context menu + icon-click triggers\n- Toast notifications for feedback\n\n## Scoping Areas to Define\n\n### Backend Changes\n- API tokens table for authentication\n- New API endpoint for extension submissions\n- CORS configuration\n- Rate limiting\n\n### Extension Implementation\n- Manifest V3 setup\n- TypeScript build pipeline\n- Authentication flow (token storage)\n- UI components (popup, context menu, toasts)\n\n### Testing Strategy\n- Jest unit tests for extension\n- Rails integration tests for API endpoint\n- Manual testing checklist\n\n### Deployment\n- Chrome Web Store submission process\n- Firefox Add-ons path\n- GitHub Actions automation\n\n## Deliverable\nA set of beads tasks with dependencies that can be executed to build the Chrome extension feature.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T10:20:58.211349-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T13:41:26.793-07:00","closed_at":"2026-01-24T13:41:26.793-07:00","close_reason":"Scoping complete - created 25 tasks with dependencies across 5 phases"}
{"id":"tts-rs7","title":"Package extension for Chrome Web Store","description":"Create distribution package:\n- Build production bundle\n- Create zip file with all assets\n- Verify manifest is complete\n- Test zip installs correctly in developer mode\n\nPart of Phase 5: Polish \u0026 Deploy","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:40:14.731506-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T19:26:51.720946-07:00","closed_at":"2026-01-24T19:26:51.720946-07:00","close_reason":"Built production bundle, created tts-extension-v0.1.0.zip (33KB)","dependencies":[{"issue_id":"tts-rs7","depends_on_id":"tts-4vx","type":"blocks","created_at":"2026-01-24T13:41:16.13382-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-rs7","depends_on_id":"tts-3pw","type":"blocks","created_at":"2026-01-24T13:41:16.202579-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-rs7","depends_on_id":"tts-1gy","type":"blocks","created_at":"2026-01-24T13:41:16.273414-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-rs7","depends_on_id":"tts-tlw","type":"blocks","created_at":"2026-01-24T13:41:16.340936-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-s6l","title":"Create Settings → Extensions page","description":"New page at /settings/extensions showing:\n- Connection status (connected/not connected)\n- Token prefix display ('tts_ext_abc1...')\n- Last used timestamp\n- Link to Chrome Web Store (unlisted URL)\n\nPart of Phase 2: Web App UI","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:19.747693-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:30:09.091625-07:00","closed_at":"2026-01-24T14:30:09.091625-07:00","close_reason":"Implemented Settings::ExtensionsController at /settings/extensions with connection status, token info, and last used timestamp display","dependencies":[{"issue_id":"tts-s6l","depends_on_id":"tts-r8l","type":"blocks","created_at":"2026-01-24T13:40:47.009974-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-sqz","title":"Sanitize error messages in email notifications","description":"Map technical error messages to user-friendly versions in EmailEpisodeMailer templates. Currently @error is displayed raw, which may show technical jargon like 'LLM processing failed' that could confuse users.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T21:43:36.545033-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:13:49.393196-07:00","closed_at":"2026-01-25T22:13:49.393196-07:00","close_reason":"Implemented in commit 99329a2"}
{"id":"tts-t3z","title":"Add rate limiting to API","description":"Add rate limiting for extension API:\n- Limit: 20 episodes per hour per user\n- Use Rack::Attack or custom middleware\n- Return 429 with Retry-After header when exceeded\n\nPart of Phase 1: Backend Foundation","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:09.230346-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:31:38.745713-07:00","closed_at":"2026-01-24T14:31:38.745713-07:00","close_reason":"Rate limiting implemented with Rack::Attack (20/hour limit)","dependencies":[{"issue_id":"tts-t3z","depends_on_id":"tts-hzm","type":"blocks","created_at":"2026-01-24T13:40:41.531092-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-t9w","title":"Add tests for extension content.ts, popup.ts, background.ts","description":"Add tests for content.ts. Note: popup.ts doesn't exist (extension uses one-click model), background.ts already has tests from refactoring (messages.test.ts, errorHandling.test.ts, contextMenu.test.ts).\n\nTest cases for content.ts:\n1. isTrustedDomain - accepts verynormal.fyi, verynormal.dev, localhost and subdomains\n2. isTrustedDomain - rejects untrusted domains\n3. checkForExtensionToken - only runs on /extension/connect paths\n4. checkForExtensionToken - skips untrusted domains\n5. handleTokenReceived - stores token and notifies background\n6. Message handler - responds to EXTRACT_ARTICLE\n7. handleExtractArticle - returns NOT_ARTICLE for non-article pages\n8. handleExtractArticle - returns extracted article on success","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:39.206535-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T15:56:11.641955-07:00","closed_at":"2026-01-25T15:56:11.641955-07:00","close_reason":"Added content.ts tests, popup.ts doesn't exist, background.ts covered by refactor"}
{"id":"tts-tlw","title":"Create extension icons from TTS branding","description":"Create icon assets for extension:\n- icon-16.png (16x16)\n- icon-48.png (48x48)  \n- icon-128.png (128x128)\n- icon-success.png (with checkmark overlay)\n- icon-error.png (with X overlay)\n- icon-loading.png (or use badge)\n\nUse existing TTS branding/logo.\n\nPart of Phase 5: Polish \u0026 Deploy","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:40:13.171955-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:47:45.823162-07:00","closed_at":"2026-01-24T14:47:45.823162-07:00","close_reason":"Icons created from app favicon (16, 48, 128px)"}
{"id":"tts-ts7","title":"Implement popup with connect button","description":"Create popup.html and popup.ts:\n- When not connected: show 'Connect to TTS' button\n- Button opens TTS auth page for token generation\n- When connected: show 'Disconnect' option\n- Minimal UI, clean design\n\nPart of Phase 4: Extension UX","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:55.038113-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:41:16.651339-07:00","closed_at":"2026-01-24T14:41:16.651339-07:00","close_reason":"Implemented popup.ts with connect/disconnect UI and auth flow","dependencies":[{"issue_id":"tts-ts7","depends_on_id":"tts-9dw","type":"blocks","created_at":"2026-01-24T13:41:05.81587-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-ts7","depends_on_id":"tts-ced","type":"blocks","created_at":"2026-01-24T13:41:05.885027-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-ttw","title":"Add extension link to Settings page","description":"Update Settings → Extensions page:\n- Add link to Chrome Web Store listing (unlisted URL)\n- 'Install Browser Extension' call-to-action\n- Brief description of what extension does\n\nPart of Phase 5: Polish \u0026 Deploy","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:40:17.390687-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:50:34.375124-07:00","closed_at":"2026-01-25T12:50:34.375124-07:00","close_reason":"Extension link already exists in Settings page (lines 60-64)","dependencies":[{"issue_id":"tts-ttw","depends_on_id":"tts-xzc","type":"blocks","created_at":"2026-01-24T13:41:19.892611-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-ttw","depends_on_id":"tts-n9g","type":"blocks","created_at":"2026-01-24T13:41:19.961845-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-ug4","title":"Rework about page hero","description":"Replace hero photo with product screenshot/illustration. Update copy — Headline: 'Articles in. Podcast episodes out.' Subheadline: 'Podcasts fit into your life — on commutes, during workouts, while cooking. There's more great writing out there than any of us have time to sit down and read. PodRead bridges the gap: the depth of your favorite writing with the convenience of a podcast.' Also update announcement badge to use sample modal (see tts-lkx). Consider removing or reworking the team section (currently shows single person in three-col grid).","status":"open","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-10T20:58:00.857177-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-10T20:58:00.857177-07:00","labels":["enhancement"],"comments":[{"id":13,"issue_id":"tts-ug4","author":"Jesse Spevack","text":"Brands section: Change headline to 'Works with every podcast app.' Update card copy — Apple Podcasts: 'Episodes appear alongside your other podcasts. Syncs across iPhone, iPad, Mac, and Apple Watch.' Spotify: 'Listen between songs and shows. Your articles live right in your existing library.' Overcast \u0026 more: 'Pocket Casts, Castro, and any app that supports RSS. Add once, listen everywhere.'","created_at":"2026-02-11T04:00:36Z"},{"id":14,"issue_id":"tts-ug4","author":"Jesse Spevack","text":"Remove team_three_col section entirely. Add 'Built by Jesse Spevack in Denver, CO' to the footer instead.","created_at":"2026-02-11T04:32:42Z"}]}
{"id":"tts-v4i","title":"Sanitize user input in ExtensionLogsController logging","description":"extension_logs_controller.rb:6 - Log injection vulnerability. User-controlled error_type and url params logged without sanitization. Fix: Strip newlines and limit length before logging.","status":"closed","priority":2,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:40:22.001858-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:47:51.426046-07:00","closed_at":"2026-01-25T12:47:51.426046-07:00","close_reason":"Implemented quick fixes"}
{"id":"tts-veg","title":"Write Chrome Web Store descriptions","description":"Write listing content:\n- Short description (132 chars max)\n- Detailed description (features, how it works)\n- Screenshot(s) showing extension in action\n\nPart of Phase 5: Polish \u0026 Deploy","status":"closed","priority":3,"issue_type":"task","assignee":"Jesse Spevack","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:40:13.959082-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:50:44.015369-07:00","closed_at":"2026-01-24T14:50:44.015369-07:00","close_reason":"Created STORE_LISTING.md with short description (91 chars) and detailed description covering features, how it works, requirements, and privacy."}
{"id":"tts-wuq","title":"Extension badge colors should respect system light/dark mode","description":"Extension badge colors (success green, error red, etc.) should detect OS prefers-color-scheme and use appropriate Catppuccin colors:\n- Light mode: #40a02b (green), #d20f39 (red)\n- Dark mode: #a6e3a1 (green), #f38ba8 (red)\n\nUse matchMedia('(prefers-color-scheme: dark)') to detect and update colors accordingly.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T08:53:34.683586-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T09:29:20.095415-07:00","closed_at":"2026-01-25T09:29:20.095415-07:00","close_reason":"Implemented system light/dark mode detection using matchMedia, badge colors now use Catppuccin Latte (light) or Mocha (dark) colors"}
{"id":"tts-xoa","title":"Extract hardcoded email domain to configuration","description":"In app/services/generates_email_ingest_address.rb:14, the email domain is hardcoded:\n\n```ruby\n\"readtome+#{@user.email_ingest_token}@tts.verynormal.dev\"\n```\n\nThis makes it harder to use different domains per environment (development, staging, production).\n\n**Recommendation:** Extract to Rails configuration:\n```ruby\n\"readtome+#{@user.email_ingest_token}@#{Rails.configuration.x.email_ingest_domain}\"\n```\n\nThen set in config/environments/*.rb or via environment variable.","status":"closed","priority":3,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T22:39:25.465899-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T22:42:55.527306-07:00","closed_at":"2026-01-25T22:42:55.527306-07:00","close_reason":"Implemented code review suggestions - all 5 items completed"}
{"id":"tts-xzc","title":"Add connect/disconnect UI to Extensions page","description":"Add to Extensions page:\n- 'Disconnect' button to revoke token\n- Confirmation dialog before disconnect\n- Success/error feedback after disconnect\n- Handle case where no token exists\n\nPart of Phase 2: Web App UI","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-24T13:39:20.714054-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-24T14:34:18.508391-07:00","closed_at":"2026-01-24T14:34:18.508391-07:00","close_reason":"Disconnect button with confirmation dialog implemented, success/error feedback via flash messages","dependencies":[{"issue_id":"tts-xzc","depends_on_id":"tts-s6l","type":"blocks","created_at":"2026-01-24T13:40:48.348469-07:00","created_by":"Jesse Spevack"},{"issue_id":"tts-xzc","depends_on_id":"tts-4z1","type":"blocks","created_at":"2026-01-24T13:40:48.418201-07:00","created_by":"Jesse Spevack"}]}
{"id":"tts-y99","title":"Audit PR view changes against existing views for consistency","description":"Review each view file changed in PR #176 against existing views to ensure consistency in:\n- HTML structure and indentation\n- Tailwind CSS class patterns and conventions\n- UI component usage (buttons, forms, cards, etc.)\n- Color schemes and theming\n- Accessibility attributes (aria labels, etc.)\n- Responsive design patterns\n\nViews to audit:\n- app/views/extension/connect/show.html.erb\n- app/views/logins/new.html.erb\n- app/views/settings/extensions/show.html.erb\n- app/views/settings/show.html.erb (changes)\n- app/views/pages/privacy.html.erb (changes)\n- app/views/billing_mailer/upgrade_nudge.html.erb (changes)\n- app/views/billing_mailer/welcome.html.erb (changes)\n\nCompare against existing patterns in app/views/ to identify inconsistencies.","status":"closed","priority":2,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T11:58:31.464685-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:51:28.135466-07:00","closed_at":"2026-01-25T12:51:28.135466-07:00","close_reason":"Closed"}
{"id":"tts-ydg","title":"Strip port from email fallback in podcast.yml","notes":"config/podcast.yml:8 has noreply@localhost:3000 — same bug class as the flaky test fix. Email domains cannot have ports. Change to noreply@localhost.","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-02-08T14:48:28.412293-07:00","created_by":"Jesse Spevack","updated_at":"2026-02-08T14:51:07.429107-07:00","closed_at":"2026-02-08T14:51:07.429107-07:00","close_reason":"Closed"}
{"id":"tts-yk8","title":"Simplify token prefix to pk_live_ only","description":"1. Change TOKEN_PREFIX in generates_api_token.rb from environment-based to just 'pk_live_'\n2. Update auth.ts token validation regex to only accept pk_live_ (not pk_test_)\n3. Update all tests to use pk_live_ prefix\n4. Update auth.test.ts to use pk_live_ tokens","status":"closed","priority":1,"issue_type":"task","owner":"jspevack@gmail.com","created_at":"2026-01-25T13:09:11.105072-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T15:45:21.974413-07:00","closed_at":"2026-01-25T15:45:21.974413-07:00","close_reason":"Completed - simplified to pk_live_ only"}
{"id":"tts-zw5","title":"Honor return_to param for logged-in users in LoginsController","description":"logins_controller.rb:4 - When already logged-in user visits /login?return_to=/extension/connect, they get redirected to /episodes/new ignoring return_to.\n\nFix: Check return_to param and redirect there for logged-in users, especially for extension connect flow.\n\nAdd test for this scenario.","status":"closed","priority":2,"issue_type":"bug","owner":"jspevack@gmail.com","created_at":"2026-01-25T12:36:41.568624-07:00","created_by":"Jesse Spevack","updated_at":"2026-01-25T12:53:01.751033-07:00","closed_at":"2026-01-25T12:53:01.751033-07:00","close_reason":"Closed"}
