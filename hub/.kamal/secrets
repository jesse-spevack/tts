# Secrets defined here are available for reference under registry/password, env/secret, builder/secrets,
# and accessories/*/env/secret in config/deploy.yml. All secrets should be pulled from either
# password manager, ENV, or a file. DO NOT ENTER RAW CREDENTIALS HERE! This file needs to be safe for git.

# Secrets from 1password
SECRETS=$(kamal secrets fetch --adapter 1password --account VLVMNHTN7NCBZGTYBDOUCQ5EMU --from keys/tts RAILS_MASTER_KEY RESEND_API_KEY CALLBACK_SECRET)

# Keep alphabetical
CLOUD_TASKS_LOCATION=us-west3
VERTEX_AI_LOCATION=us-central1
CLOUD_TASKS_QUEUE=episode-processing
GENERATOR_CALLBACK_SECRET=$(kamal secrets extract CALLBACK_SECRET ${SECRETS})
GENERATOR_SERVICE_URL=https://podcast-api-ns2hvyzzra-wm.a.run.app
GOOGLE_CLOUD_BUCKET=verynormal-tts-podcast
GOOGLE_CLOUD_PROJECT=very-normal
# Use fresh OAuth2 token for registry auth (matches GitHub Actions behavior)
KAMAL_REGISTRY_PASSWORD=$(gcloud auth print-access-token)
SERVICE_ACCOUNT_EMAIL=tts-service-account@very-normal.iam.gserviceaccount.com
MAILER_FROM_ADDRESS=noreply@tts.verynormal.dev
MAILER_HOST=tts.verynormal.dev
RAILS_MASTER_KEY=$(kamal secrets extract RAILS_MASTER_KEY ${SECRETS})
RESEND_API_KEY=$(kamal secrets extract RESEND_API_KEY ${SECRETS})
